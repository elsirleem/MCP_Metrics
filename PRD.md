# **Project Requirements Document: GitHub MCP Productivity Engine**

The following table outlines the detailed functional requirements of the GitHub MCP Productivity Engine.

| Requirement ID | Description | User Story | Expected Behavior/Outcome |
| :--- | :--- | :--- | :--- |
| **FR001** | **MCP Connection Setup** | As an engineer, I want the system to securely connect to the GitHub MCP server so that I can fetch repository data without writing custom API scrapers. | The backend orchestrator must successfully initialize a persistent connection to the `github-mcp-server` (running via Docker) using a valid Personal Access Token. |
| **FR002** | **Repository Ingestion Configuration** | As an admin, I want to configure specific repositories to monitor so the pipeline knows which data sources to track. | The system should accept a list of "Owner/Repo" strings. The pipeline will query the MCP server to fetch recent Commits, Pull Requests, and Issues for those targets. |
| **FR003** | **DORA Metrics Calculation** | As an engineering manager, I want to see "Deployment Frequency" and "Lead Time for Changes" so I can benchmark our team's velocity. | The system must process raw timestamps from PRs and Commits (fetched via MCP) to calculate and store the four standard DORA metrics. |
| **FR004** | **AI Business Insight Generation** | As a stakeholder, I want to understand *why* velocity is fluctuating rather than just seeing a number, so I can make informed decisions. | The system must pass raw data to an LLM with specific prompts to identify patterns (e.g., "High Rework Ratio") and generate a qualitative text summary. |
| **FR005** | **Natural Language "Repo Chat"** | As a non-technical executive, I want to ask questions like "What features did we ship this week?" in plain English. | The frontend should offer a chat interface. The backend must interpret the query, select the correct MCP tool (e.g., `list_commits`), execute it, and return a synthesized answer. |
| **FR006** | **Productivity Dashboard View** | As a user, I want a visual dashboard showing trends over time so I can spot improvements or regressions at a glance. | The frontend must render interactive charts (line/bar) for the collected metrics over selectable time ranges (7d, 30d, 90d). |
| **FR007** | **Automated Daily Summaries** | As a team lead, I want a daily summary of repository activity delivered automatically so I don't have to manually check the dashboard. | A scheduled Cron job should trigger the pipeline every 24 hours to fetch new data, generate an AI summary of the day's work, and store it for the "Daily Briefing" view. |
| **FR008** | **Contributor Risk Analysis** | As a manager, I want to view metrics broken down by contributor to identify "Bus Factor" risks (dependency on one person). | The system should aggregate commit and review data by author, flagging unusual patterns (e.g., single author modifying 80% of core files) as a risk. |
| **FR009** | **Metric Contextualization** | As a developer, I want to drill down into a metric spike to see the specific PRs or commits that caused it. | Clicking a data point on a chart should reveal the underlying list of PRs or Commits (fetched via MCP) that contributed to that specific metric value. |
| **FR010** | **Organization Aggregation** | As a CTO, I want to see an aggregated view of all repositories to understand the health of the entire engineering organization. | The dashboard must provide an "Organization View" that sums or averages metrics across all tracked repositories, with the ability to filter by specific teams. |